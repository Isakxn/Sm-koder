<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <style>
      .light {
        background-color: rgb(182, 153, 124);
        height: 100px;
        width: 100px;
      }
      .dark {
        background-color: rgb(84, 59, 36);
        height: 100px;
        width: 100px;
      }
      .light.red {
        background-color: rgba(206, 102, 102, 0.732);
        height: 100px;
        width: 100px;
      }
      .dark.red {
        background-color: rgb(127, 53, 53);
        height: 100px;
        width: 100px;
      }
      #chessboard td {
        text-align: center;
      }
    </style>
    <!-- The <table> HTML element represents tabular dataâ€”that is, information presented in
         a two-dimensional table comprised of rows and columns of cells containing data-->
    <table id="chessboard"></table>

    <script>
      //Upgraded the array to a 2d array for easier access to positions
   



      

      function OnClick() {
        console.log("klikked!!!!!");
      }




      function drawtiles() {
        for (let i = 0; i < 8; i++) {
          const chessboard = document.getElementById("chessboard");
          //divides every row
          //The <tr> HTML element defines a row of cells in a table. The row's cells
          // can then be established using a mix of <td> (data cell) and <th> (header cell) elements.
          const addrow = document.createElement("tr");
          //creates an unique id for every row.
          addrow.id = `adjecenttileid${i}`;
          for (let u = 0; u < 8; u++) {
            //The <td> HTML element defines a cell of a table that contains data
            //  and may be used as a child of the <tr> element.
            const addtile = document.createElement("td");
            //I dont remember why i needed () =>.
            addtile.onclick = (event) => {
                console.log(event)
                let position = event.target.id.split(`-`);
                //Create an x and a y. 
                for (let x = 0; x < 8; x++) {
                    
                    for (let y = 0; y < 8; y++) {
                        const clearid =`${x}-${y}`;
                        const element = document.getElementById(clearid);
                        element.classList.remove("red");
                        element.innerHTML="";
                    }
                }
                for (let x = 0; x < 8; x++) {
                    const rowId =`${x}-${position[1]}`;
                    const rowElement = document.getElementById(rowId);
                    rowElement.classList.add("red");
                    const colid =`${position[0]}-${x}`;
                    const colElement = document.getElementById(colid);
                    colElement.classList.add("red");
                }
                
                event.target.innerHTML = (`<img style = " height: 75px; width: 75px;" src = ./bilder/chessrook.png>`);
                console.log(position)
              OnClick();
            };
            addtile.id = `${u}-${i}`;
            // if (x + y / 2 = 0 ) (x y = u i) the tile is even and become dark.
            // otherwise it becomes light.
            if ((u + i) % 2 === 0) {
              addtile.classList.add("dark");
            } else {
              addtile.classList.add("light");
            }
            addrow.appendChild(addtile);
          }
          chessboard.appendChild(addrow);
        }

        console.log(chessboard);
      }
      

      drawtiles();
    </script>
  </body>
</html>